<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/shop.css">
    <title>peace chill</title>
</head>

<body>
    <header>
        <ul>
            <li><img src="img/Logo.png" alt="Logo"></li>
            <ul id="nav">
                <li><a href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="workshop.html">Workshops</a></li>
                <li><a href="#">About</a></li>
                <li class="user-menu-li">
                    <a href="#">
                        <i class="bi bi-person"></i>
                    </a>
                    <ul class="user-dropdown">
                        <li>
                            <a class="go-register" href="register.html">
                                <i class="bi bi-person-plus"></i> Sign up
                            </a>
                        </li>
                        <li>
                            <a class="go-login" href="login.html">
                                <i class="bi bi-box-arrow-in-right"></i> Log in
                            </a>
                        </li>
                        <li>
                            <a class="go-account" href="account.html">
                                <i class="bi bi-person-circle"></i> Account
                            </a>
                        </li>
                        <li>
                            <a class="go-logout" href="login.html">
                                <i class="bi bi-box-arrow-in-left"></i> Log out
                            </a>
                        </li>
                    </ul>
                </li>
                
            </ul>
        </ul>
    </header>
    <main>
       
        <div id="shop">
            <div class="direction" id="breadcrumb"></div>
            <section class="tag-menu">
                <p>Enjoy Your Shopping</p>
            </section>
            <section class="search-row">
                <form class="search-form" onsubmit="find(event)">
                    <input type="text" placeholder="Search..." class="search-item" />
                    <button type="submit">
                        <i class="bi bi-search"></i>
                    </button>
                </form>
                <button type="button" class="all-item" onclick="showAllItems()">
                    View All
                </button>
                <button type="button" class="sort-mobile"
                    onclick="document.getElementById('toggle-mobile-filter').checked = true;">
                    Sort
                </button>
                <input type="checkbox" id="toggle-mobile-filter" hidden>
                <label for="toggle-mobile-filter" class="overlay-mobile-filter"></label>
                <div class="mobile-filter">
                    <form action="" onsubmit="find(event)">
                        <p class="filer-text">Sort</p>
                        <p>Price</p>
                        <div class="range-price">
                            <input type="text" placeholder="min">
                            -
                            <input type="text" placeholder="max">
                        </div>
                        <div class="Used">
                            <p class="filter-title">Product Type</p>
                            <input type="radio" name="find" value="option1"> Wool Yarn
                            <input type="radio" name="find" value="option2"> Tool
                        </div>
                        <div class="filter-material">
                            <p class="filter-title">Material</p>
                            <label><input type="checkbox"> Merino</label><br>
                            <label><input type="checkbox"> Alpaca</label><br>
                            <label><input type="checkbox"> Acrylic</label><br>
                            <label><input type="checkbox"> Cotton</label>
                        </div>
                        <div class="filter-weight">
                            <p class="filter-title"> Yarn Weight</p>
                            <label><input type="checkbox">Lace</label><br>
                            <label><input type="checkbox">Super Fine</label><br>
                            <label><input type="checkbox"> Light</label><br>
                            <label><input type="checkbox"> Medium </label>
                        </div>
                        <div class="filter-color">
                            <p class="filter-title">Color</p>
                            <div class="color-list">
                                <label>
                                    <input type="radio" name="color" value="#a31616" style="display:none;">
                                    <span class="color-dot" style="background:#a31616"></span>
                                </label>
                                <label>
                                    <input type="radio" name="color" value="#ed0556" style="display:none;">
                                    <span class="color-dot" style="background:#ed0556"></span>
                                </label>
                                <label>
                                    <input type="radio" name="color" value="#74036c" style="display:none;">
                                    <span class="color-dot" style="background:#74036c"></span>
                                </label>
                                <label>
                                    <input type="radio" name="color" value="#0e0800" style="display:none;">
                                    <span class="color-dot" style="background:#0e0800"></span>
                                </label>
                                <label>
                                    <input type="radio" name="color" value="#e3b6c2" style="display:none;">
                                    <span class="color-dot" style="background:#e3b6c2"></span>
                                </label>
                                <label>
                                    <input type="radio" name="color" value="#3c0479" style="display:none;">
                                    <span class="color-dot" style="background:#3c0479"></span>
                                </label>
                                <label>
                                    <input type="radio" name="color" value="#02452b" style="display:none;">
                                    <span class="color-dot" style="background:#02452b"></span>
                                </label>
                                <label>
                                    <input type="radio" name="color" value="#038d61" style="display:none;">
                                    <span class="color-dot" style="background:#038d61"></span>
                                </label>
                                <label>
                                    <input type="radio" name="color" value="#d58d3f" style="display:none;">
                                    <span class="color-dot" style="background:#d58d3f"></span>
                                </label>
                                <label>
                                    <input type="radio" name="color" value="#964B00" style="display:none;">
                                    <span class="color-dot" style="background:#964B00"></span>
                                </label>
                            </div>
                        </div>
                        <div class="form-start">
                            <input type="reset">
                            <input type="button" value="Let Sort">
                            
                        </div>
                    </form>
                </div>
            </section>
            <div class="shop-buy">
                <section class="filter">
                    <div class="filter-price">
                        <form action="" onsubmit="find(event)">
                            <p class="filer-text">Sort</p>
                            <p>Price</p>
                            <div class="range-price">
                                <input type="text" placeholder="min">
                                -
                                <input type="text" placeholder="max">
                            </div>
                            <div class="Used">
                                <p class="filter-title">Product Type</p>
                                <input type="radio" name="find" value="option1"> Wool Yarn
                                <input type="radio" name="find" value="option2"> Tool
                            </div>
                            <div class="filter-material">
                                <p class="filter-title">Material</p>
                                <label><input type="checkbox"> Merino</label><br>
                                <label><input type="checkbox"> Alpaca</label><br>
                                <label><input type="checkbox"> Acrylic</label><br>
                                <label><input type="checkbox"> Cotton</label>
                            </div>
                            <div class="filter-weight">
                                <p class="filter-title"> Yarn Weight</p>
                                <label><input type="checkbox">Lace</label><br>
                                <label><input type="checkbox">Super Fine</label><br>
                                <label><input type="checkbox"> Light</label><br>
                                <label><input type="checkbox"> Medium </label>
                            </div>
                            <div class="filter-color">
                                <p class="filter-title">Color</p>
                                <div class="color-list">
                                    <label>
                                        <input type="radio" name="color" value="#a31616" style="display:none;">
                                        <span class="color-dot" style="background:#a31616"></span>
                                    </label>
                                    <label>
                                        <input type="radio" name="color" value="#ed0556" style="display:none;">
                                        <span class="color-dot" style="background:#ed0556"></span>
                                    </label>
                                    <label>
                                        <input type="radio" name="color" value="#74036c" style="display:none;">
                                        <span class="color-dot" style="background:#74036c"></span>
                                    </label>
                                    <label>
                                        <input type="radio" name="color" value="#0e0800" style="display:none;">
                                        <span class="color-dot" style="background:#0e0800"></span>
                                    </label>
                                    <label>
                                        <input type="radio" name="color" value="#e3b6c2" style="display:none;">
                                        <span class="color-dot" style="background:#e3b6c2"></span>
                                    </label>
                                    <label>
                                        <input type="radio" name="color" value="#3c0479" style="display:none;">
                                        <span class="color-dot" style="background:#3c0479"></span>
                                    </label>
                                    <label>
                                        <input type="radio" name="color" value="#02452b" style="display:none;">
                                        <span class="color-dot" style="background:#02452b"></span>
                                    </label>
                                    <label>
                                        <input type="radio" name="color" value="#038d61" style="display:none;">
                                        <span class="color-dot" style="background:#038d61"></span>
                                    </label>
                                    <label>
                                        <input type="radio" name="color" value="#d58d3f" style="display:none;">
                                        <span class="color-dot" style="background:#d58d3f"></span>
                                    </label>
                                    <label>
                                        <input type="radio" name="color" value="#964B00" style="display:none;">
                                        <span class="color-dot" style="background:#964B00"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="form-start">
                                <input type="reset">
                                <input type="button" value="Let Sort" >
                               
                            </div>
                        </form>
                    </div>
                </section>
                <section class="shopproitem">
                    <div class="shopitem" id="product-list">

                    </div>
                    <div class="pagination">
                        <button class="page-btn" onclick="prev()">Trước</button>
                        <button class="page-btn" onclick="next()">Tiếp</button>
                    </div>
                </section>

            </div>

        </div>

    </main>
    <footer class="footer">
        <div class="footer-col">
            <p class="footer-logo">PeaceChill</p>
            <p class="footer-desc">Creating beautiful things, one stitch at a time.</p>
            <div class="footer-social">
                <a href="#"><i class="bi bi-facebook"></i></a>
                <a href="#"><i class="bi bi-instagram"></i></a>
                <a href="#"><i class="bi bi-youtube"></i></a>
            </div>
        </div>
        <div class="footer-col">
            <p class="footer-title">Shop</p>
            <ul>
                <li><a href="#">All Yarns</a></li>
                <li><a href="#">Merino Wool</a></li>
                <li><a href="#">Alpaca Blend</a></li>
                <li><a href="#">Organic Cotton</a></li>
                <li><a href="#">Hand-Dyed Specialty</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <p class="footer-title">Learn</p>
            <ul>
                <li><a href="#">Workshops</a></li>
                <li><a href="#">Tutorials</a></li>
                <li><a href="#">Patterns</a></li>
                <li><a href="#">Blog</a></li>
                <li><a href="#">Community</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <p class="footer-title">Customer Care</p>
            <ul>
                <li><a href="#">Contact Us</a></li>
                <li><a href="#">Shipping & Returns</a></li>
                <li><a href="#">FAQ</a></li>
                <li><a href="#">Store Locations</a></li>
                <li><a href="#">About Us</a></li>
            </ul>
        </div>
    </footer>

    <script>
        let currentPage = 0;
        const pageSize = 8;
        let productsData = [];
        let filteredData = null; // Thêm biến này

        function print(products) {
            const list = document.getElementById('product-list');
            const showProducts = products.slice(currentPage * pageSize, (currentPage + 1) * pageSize);
            list.innerHTML = showProducts.map(product => `
                <div class="product-item">
                    <img src="${product.image}" alt="${product.name}">
                    <p class="title-item">${product.name}</p>
                    <p class="cost">$${product.cost}</p>
                    <button class="btn-buy">
                        <a href="#">Buy Now</a>
                    </button>
                </div>
            `).join('');
        }
        function showAllItems() {
            filteredData = null;
            currentPage = 0;
            renderProducts();
        }
        function renderProducts() {
            const data = filteredData !== null ? filteredData : productsData;
            print(data);
        }

        fetch('api/api.json')
            .then(res => res.json())
            .then(data => {
                productsData = data;
                renderProducts();
            });

        function next() {
            const data = filteredData !== null ? filteredData : productsData;
            if ((currentPage + 1) * pageSize < data.length) {
                currentPage++;
                renderProducts();
            }
        }

        function prev() {
            if (currentPage > 0) {
                currentPage--;
                renderProducts();
            }
        }

        function find(event) {
            if (event) event.preventDefault();
            const key = document.querySelector(".search-item").value.trim().toLowerCase();
            currentPage = 0; // Reset về trang đầu khi tìm kiếm hoặc bỏ lọc
            if (!key) {
                filteredData = null;
                renderProducts();
                return;
            }
            filteredData = productsData.filter(product =>
                product.name.toLowerCase().includes(key) ||
                (product.tags && product.tags.some(tag => tag.toLowerCase().includes(key)))
            );
            renderProducts();
        }
    </script>
    <script src="js/js.js"></script>
</body>

</html>